<h3>STRING FUNCTIONS</h3>

<p>
String functions: stored functions operating of texts. All functions are DETERMINISTIC, NO SQL.
<ul>
	<li><a href="#get_num_tokens">get_num_tokens()</a>: Return number of tokens in delimited text</li>
	<li><a href="#mysql_qualify">mysql_qualify()</a>: Return a qualified MySQL object name</li>
	<li><a href="#split_token">split_token()</a>: Return substring by index in delimited text</li>
</ul>
</p>

<h3>SYNOPSIS</h3>

<p>
<ul>
	<li>
		<a name="get_num_tokens" href="#">get_num_tokens()</a>
		<p>
			Assumes given text <strong>txt</strong> is tokenized by given <strong>delimeter</strong>, and returns the number of tokens
			in the split text.
			Delimiter is assumed to be fixed text, of any length.
<blockquote><pre>get_num_tokens(txt TEXT CHARSET utf8, delimiter VARCHAR(255) CHARSET utf8)
  RETURNS INT UNSIGNED </pre></blockquote>
		</p>
			<h4>EXAMPLES</h4>
<blockquote><pre>mysql&gt; SELECT common_schema.get_num_tokens('the quick brown fox', ' ') AS num_tokens;
+------------+
| num_tokens |
+------------+
|          4 |
+------------+
</pre></blockquote>
<blockquote><pre>mysql&gt; SELECT common_schema.get_num_tokens('single', ',') AS num_tokens;
+------------+
| num_tokens |
+------------+
|          1 |
+------------+
</pre></blockquote>
	</li>
	<li>
		<a name="mysql_qualify" href="#">mysql_qualify()</a>
		<p>
			Return a qualified MySQL object name: this function merely wraps the given <strong>name</strong> with backticks (`). 
			This function is useful in automation of SQL generation queries.
<blockquote><pre>mysql_qualify(name TINYTEXT CHARSET utf8) 
  RETURNS TINYTEXT CHARSET utf8 </pre></blockquote>
		</p>
			<h4>EXAMPLES</h4>
<blockquote><pre>mysql&gt; SELECT common_schema.mysql_qualify('film_actor') AS qualified;
+--------------+
| qualified    |
+--------------+
| `film_actor` |
+--------------+
</pre></blockquote>
	</li>
	<li>
		<a name="split_token" href="#">split_token()</a>
		<p>
			Return substring by its index in delimited text.
			This function splits the input text <strong>txt</strong> into tokens, according to given <strong>delimiter</strong>. It returns a single token,
			indicated by the 1-based <strong>token_index</strong>.
		</p>
		<p>
			The function is a shortcut to the common pattern of using two SUBSTRING_INDEX invocations.			
<blockquote><pre>split_token(txt TEXT CHARSET utf8, delimiter VARCHAR(255) CHARSET utf8, token_index INT UNSIGNED) 
  RETURNS TEXT CHARSET utf8</pre></blockquote>
		</p>
			<h4>EXAMPLES</h4>
<blockquote><pre>SELECT common_schema.split_token('the quick brown fox', ' ', 3) AS token;
+-------+
| token |
+-------+
| brown |
+-------+
</pre></blockquote>
	</li>
</ul>
</p>

<h3>ENVIRONMENT</h3>
MySQL 5.1 or newer

<h3>AUTHOR</h3>
Shlomi Noach
