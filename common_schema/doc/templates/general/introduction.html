
<p><i>common_schema</i> is a utility schema for MySQL. 
It provides with useful views and routines to assist in schema analysis, monitoring, management & SQL code generation.
</p>

<p>The available components are:</p>

<h4>Views</h4>

	<p>Schema analysis</p>
	<ul>
		<li><a title="no_pk_innodb_tables" href="no_pk_innodb_tables.html">no_pk_innodb_tables</a>: List InnoDB tables where no PRIMARY KEY is defined </li>
		<li><a title="redundant_keys" href="redundant_keys.html">redundant_keys</a>: List indexes which are made redundant (or duplicate) by other (dominant) keys. </li>
		<li><a title="sql_alter_table" href="sql_alter_table.html">sql_alter_table</a>: Generate ALTER TABLE SQL statements per table, with engine and create options</li>
		<li><a title="sql_foreign_keys" href="sql_foreign_keys.html">sql_foreign_keys</a>: Generate create/drop foreign key constraints SQL statements</li>
		<li><a title="table_charset" href="table_charset.html">table_charset</a>: List tables, their character sets and collations</li>
		<li><a title="text_columns" href="text_columns.html">text_columns</a>: List textual columns character sets & collations </li>
	</ul>
	<p>Data dimensions</p>
	<ul>
		<li><a title="auto_increment_columns" href="auto_increment_columns.html">auto_increment_columns</a>: List AUTO_INCREMENT columns and their capacity</li>
		<li><a title="data_size_per_engine" href="data_size_per_engine.html">data_size_per_engine</a>: Present with data size measurements per storage engine</li>
		<li><a title="data_size_per_schema" href="data_size_per_schema.html">data_size_per_schema</a>: Present with data size measurements per schema </li>
	</ul>
	<p>Monitoring</p>
	<ul>
		<li><a title="global_status_diff" href="global_status_diff.html">global_status_diff</a>: Status variables difference over time, with interpolation and extrapolation per time unit</li>
		<li><a title="global_status_diff_clean" href="global_status_diff_clean.html">global_status_diff_clean</a>: Status variables difference over time, with spaces where zero diff encountered</li>
		<li><a title="global_status_diff_nonzero" href="global_status_diff_nonzero.html">global_status_diff_nonzero</a>: Status variables difference over time, only nonzero findings listed </li>
	</ul>
	<p>Processes & transactions</p>
	<ul>
		<li><a title="innodb_locked_transactions" href="innodb_locked_transactions.html">innodb_locked_transactions</a>: List locked transactions, the locks they are waiting on and the transactions holding those locks.</li>
		<li><a title="innodb_simple_locks" href="innodb_simple_locks.html">innodb_simple_locks</a>: Listing of locks, simplifying INFORMATION_SCHEMA.INNODB_LOCKS</li>
		<li><a title="innodb_transactions" href="innodb_transactions.html">innodb_transactions</a>: Listing of active (InnoDB Plugin) transactions, which are currently performing queries</li>
		<li><a title="innodb_transactions_summary" href="innodb_transactions_summary.html">innodb_transactions_summary</a>: A one line summary of InnoDB's transactions: count, state, locks </li>
		
		<li><a title="processlist_per_userhost" href="processlist_per_userhost.html">processlist_per_userhost</a>: State of processes per user/host: connected, executing, average execution time </li>
		<li><a title="processlist_repl" href="processlist_repl.html">processlist_repl</a>: Listing of replication processes: the server's slave threads and any replicating slaves</li>
		<li><a title="processlist_summary" href="processlist_summary.html">processlist_summary</a>: Number of connected, sleeping, running connections and slow query count</li>
		<li><a title="processlist_top" href="processlist_top.html">processlist_top</a>: Listing of active processes sorted by current query runtime, desc (longest first)</li>
	</ul>
	<p>Security</p>
	<ul>
		<li><a title="routine_privileges" href="routine_privileges.html">routine_privileges</a>: INFORMATION_SCHEMA-like view on routines privileges</li>
		<li><a title="sql_grants" href="sql_grants.html">sql_grants</a>: Generate SQL GRANT/REVOKE statements for existing accounts; provide with GRANT metadata</li>
		<li><a title="sql_show_grants" href="sql_show_grants.html">sql_show_grants</a>: Generate complete accounts SHOW GRANTS FOR -like output</li>
	</ul>

<h4>Tables</h4>

	<ul>
		<li><a title="numbers" href="numbers.html">numbers</a></li>
	</ul>

<h4>Functions</h4>
	<p>General functions</p>
	<ul>
		<li><a href="general_functions.html#crc64">crc64()</a>: Return a 64 bit CRC of given input, as unsigned big integer</li>
		<li><a href="general_functions.html#mysql_grantee">mysql_grantee()</a>: Return a qualified MySQL grantee (account) based on user and host.</li>
	</ul>

	<p>String functions</p>
	<ul>
		<li><a href="string_functions.html#get_num_tokens">get_num_tokens()</a>: Return number of tokens in delimited text</li>
		<li><a href="string_functions.html#mysql_qualify">mysql_qualify()</a>: Return a qualified MySQL object name</li>
		<li><a href="string_functions.html#split_token">split_token()</a>: Return substring by index in delimited text</li>
	</ul>

	<p>Time & date functions</p>
	<ul>
		<li><a href="time_functions.html#start_of_hour">start_of_hour</a>: Returns DATETIME of beginning of round hour of given DATETIME.</li>
		<li><a href="time_functions.html#start_of_month">start_of_month</a>: Returns first day of month of given datetime, as DATE object</li>
		<li><a href="time_functions.html#start_of_quarter">start_of_quarter</a>: Returns first day of quarter of given datetime, as DATE object</li>
		<li><a href="time_functions.html#start_of_week">start_of_week</a>: Returns first day of week of given datetime (i.e. start of Monday), as DATE object</li>
		<li><a href="time_functions.html#start_of_week_sunday">start_of_week_sunday</a>: Returns first day of week, Sunday based, of given datetime, as DATE object</li>
		<li><a href="time_functions.html#start_of_year">start_of_year</a>: Returns first day of year of given datetime, as DATE object</li>
	</ul>


<h3>LICENSE</h3>
common_schema is released under the <a href="http://www.opensource.org/licenses/bsd-license.php">BSD license</a>.
<blockquote><pre>Copyright (c) 2011, Shlomi Noach
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
* Neither the name of the organization nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR 
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT 
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR 
TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</pre>
</blockquote>
<h3>AUTHOR</h3>
Shlomi Noach
